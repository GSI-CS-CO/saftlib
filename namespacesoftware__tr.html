<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Saftlib Simplified API for Timing: software_tr Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Saftlib Simplified API for Timing
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">software_tr Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Software emulation of a TimingReceiver.  
<a href="namespacesoftware__tr.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1BuildIdRom.html">BuildIdRom</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1Device.html">Device</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1EBslave.html">EBslave</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1EcaEventsIn.html">EcaEventsIn</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1EcaQueue.html">EcaQueue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1EcaUnitControl.html">EcaUnitControl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1FpgaReset.html">FpgaReset</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1IoControl.html">IoControl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1LM32ClusterInfoRom.html">LM32ClusterInfoRom</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1MsiMailbox.html">MsiMailbox</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1SDBrecords.html">SDBrecords</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsoftware__tr_1_1SoftwareECA.html">SoftwareECA</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1WatchdogMutex.html">WatchdogMutex</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftware__tr_1_1WrPpsGenerator.html">WrPpsGenerator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a40b6b4dfecb7da1d83c758a76a68fb50"><td class="memItemLeft" align="right" valign="top"><a id="a40b6b4dfecb7da1d83c758a76a68fb50" name="a40b6b4dfecb7da1d83c758a76a68fb50"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>std_logic_t</b> { <br />
&#160;&#160;<b>STD_LOGIC_U</b>
, <b>STD_LOGIC_X</b>
, <b>STD_LOGIC_0</b>
, <b>STD_LOGIC_1</b>
, <br />
&#160;&#160;<b>STD_LOGIC_Z</b>
, <b>STD_LOGIC_W</b>
, <b>STD_LOGIC_L</b>
, <b>STD_LOGIC_H</b>
, <br />
&#160;&#160;<b>STD_LOGIC_DASH</b>
<br />
 }</td></tr>
<tr class="separator:a40b6b4dfecb7da1d83c758a76a68fb50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a92979e206ba4b16c945c76af4c864c4e"><td class="memItemLeft" align="right" valign="top"><a id="a92979e206ba4b16c945c76af4c864c4e" name="a92979e206ba4b16c945c76af4c864c4e"></a>
<a class="el" href="classsoftware__tr_1_1EBslave.html">EBslave</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>eb_slave</b> = nullptr</td></tr>
<tr class="separator:a92979e206ba4b16c945c76af4c864c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5571e3d035bafe957fb84f7e621db98f"><td class="memItemLeft" align="right" valign="top"><a id="a5571e3d035bafe957fb84f7e621db98f" name="a5571e3d035bafe957fb84f7e621db98f"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>eca_msi_target_adr</b> = 0</td></tr>
<tr class="separator:a5571e3d035bafe957fb84f7e621db98f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b2c616ed30d7840d62b01c5dbcd7809"><td class="memItemLeft" align="right" valign="top"><a id="a1b2c616ed30d7840d62b01c5dbcd7809" name="a1b2c616ed30d7840d62b01c5dbcd7809"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>eca_in_buffer</b> [8] = {0,}</td></tr>
<tr class="separator:a1b2c616ed30d7840d62b01c5dbcd7809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8059f01b92fbb5bdff77c792c5385330"><td class="memItemLeft" align="right" valign="top"><a id="a8059f01b92fbb5bdff77c792c5385330" name="a8059f01b92fbb5bdff77c792c5385330"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>eca_tag</b> = 0</td></tr>
<tr class="separator:a8059f01b92fbb5bdff77c792c5385330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a0be38022c8f9c364064de7f39a146"><td class="memItemLeft" align="right" valign="top"><a id="a42a0be38022c8f9c364064de7f39a146" name="a42a0be38022c8f9c364064de7f39a146"></a>
struct <a class="el" href="structsoftware__tr_1_1SoftwareECA.html">software_tr::SoftwareECA</a>&#160;</td><td class="memItemRight" valign="bottom"><b>software_eca</b></td></tr>
<tr class="separator:a42a0be38022c8f9c364064de7f39a146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d4bc6f2fc3668198d8ab19fcd37e6dc"><td class="memItemLeft" align="right" valign="top"><a id="a5d4bc6f2fc3668198d8ab19fcd37e6dc" name="a5d4bc6f2fc3668198d8ab19fcd37e6dc"></a>
std::map&lt; uint32_t, uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>sdb_memory</b></td></tr>
<tr class="separator:a5d4bc6f2fc3668198d8ab19fcd37e6dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Software emulation of a TimingReceiver. </p>
<p >The purpose of this program is to run saftlib software test programs without attaching actual hardware devices to the system.</p>
<p >The first part of this program consists of an etherbone slave implementation that was originally developed to connect GHDL simulations to real host programs. It behaves like a USB serial device and is implemented as a pseudo-terminal in /dev/pts/&lt;n&gt;, where &lt;n&gt; is an integer that is determined by the OS. After startup, the full device name is written into the temporary file "/tmp/simbridge-eb-device", such that eb-tools can be used like this: "eb-ls $(cat /tmp/simbridge-eb-device)"</p>
<p >The second part of this program consists of an emulation of some hardware registers in a TimingReceiver and partially of its behavior. Register layout is based on a SDB record file from a real TimingReceiver. This Program can also be used to extract such an SDB record file from existing hardware (use the &ndash;extract-sdb &lt;device name&gt; option and redirect the output into a file). Currently, the program implements enough TimingReceiver functionality that saftlib can connect to it (using the pseudo-terminal device). Saftlib clients can create software action sinks and inject events into the simulated hardware. The timing events are redistributed to the correct SoftwarActionSinks just as they would be if saftlib would work on real hardware. The functionality is limited in that flags such as LATE,CONFLICT,DELAYED,EARLY are not supported. Late events are always delivered immediately. The execution time comes from the system time and is not synchronized to a WhiteRabbit network.</p>
<p >Besides parts of the ECA, not much of the hardware behavior is currently implemented. <br  />
 </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
